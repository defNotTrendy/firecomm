webpackJsonp([2],{2:function(n,e,t){"use strict";(function(n){Object.defineProperty(e,"__esModule",{value:!0}),t(0);var o=function(){function e(e){this.isShowing=!1,this.editingMode=!1,this.$element=n(e),this.announcementsToShow={},this.seenAnnouncements={},this.$element.length&&(this.$window=n(window),this.init())}return e.prototype.hasAnnouncementBeenSeen=function(n){if(null==this.seenAnnouncements){var e=this.getCookie("cba-announcements");if(void 0!==e)for(var t=e.split(","),o=0;1<=t.length;o++)this.seenAnnouncements[t[o]]=!0}if(void 0!==n)return void 0!==this.seenAnnouncements[n]&&this.seenAnnouncements[n]},e.prototype.announcementHasBeenSeen=function(n){if(void 0!==n){this.seenAnnouncements[n]=!0;for(var e="",t=0;t<=this.seenAnnouncements.length;t++)e.length>0&&(e+=","),e+=n;document.cookie="cba-announcements="+e+"; path=/; expires: 732"}},e.prototype.announcementsVisible=function(){var e=this,t=!1;if(null!==this.announcementsToShow){for(var o in this.announcementsToShow)if(!0===this.announcementsToShow[o]){t=!0;break}return t}return n(".announcements").children().each(function(o,i){var s=n(i).find(".component_announcement-inner"),a=s.attr("data-hash"),c=s.attr("data-edit"),u=s.attr("data-type");s.attr("data-current");if("true"===c)return t=!0,void(e.announcementsToShow[a]=!0);!1===e.hasAnnouncementBeenSeen(a)&&(t=!0,e.announcementsToShow[a]=!0,"once"===u&&e.announcementHasBeenSeen(a))}),t},e.prototype.init=function(){var e=this;if(this.announcementsVisible(),this.checkIfUserLoggedIn(),this.editingMode=n(".cq-wcm-edit").length>0,n(".announcements").children().each(function(t,o){var i=n(o).find(".component_announcement-inner"),s=i.attr("data-hash"),a=i.attr("data-show-when-auth-is"),c="auth"===a||"unauth"===a;s.length&&(c?("auth"===a&&!0===e.userLoggedIn||"unauth"===a&&!1===e.userLoggedIn)&&(i.show(),e.isShowing=!0):(i.show(),e.isShowing=!0))}),!this.editingMode&&!1){var t=n(".announcements"),o=t.children(".section");t.append(o.get().reverse()),n(".component_announcement").removeAttr("style"),this.$window.length<=768?this.equalHeightForMessages():this.setHeightFunc("5rem")}n(".component_announcement-agree").on("click",function(t){t.preventDefault();n(t.target).closest(".component_announcement-inner");e.hide(t.target)}),n(".component_announcement-close").on("click",function(t){t.preventDefault();var o=n(t.target).closest(".component_announcement-inner"),i=o?n(o).attr("data-type"):"",s=o?n(o).attr("data-hash"):"";e.hide(t.target),"always"===i&&e.announcementHasBeenSeen(s)}),this.editingMode||this.listenOnGloEvent()},e.prototype.setHeightFunc=function(e){n(".component_announcement").css("height",e)},e.prototype.equalHeightForMessages=function(){var e=0,t=n(".component_announcement");t.find(".component_announcement-inner").each(function(t,o){e<n(o).height()&&(e=n(o).height())}),t.css("height",e).find(".component_announcement-inner").css("height",e)},e.prototype.hide=function(e){n(n(e).closest(".component_announcement-inner")).fadeOut("slow",function(){n(e).parent(".section").remove(),n(".component_announcement-inner:hidden").length===n(".component_announcement-inner").length&&n(".component_announcement").slideUp({complete:function(){n(".component_announcement").remove()}})})},e.prototype.checkIfUserLoggedIn=function(){if(window.gloNavAppData&&window.gloNavAppData.authenticationResponse){var n=window.gloNavAppData.authenticationResponse.isAuthenticated;!0===n?this.userLoggedIn=!0:!1===n&&(this.userLoggedIn=!1)}},e.prototype.showAuthAnnouncementIfNeeded=function(){var e=this;if(n(".announcements").find(".component_announcement-inner[data-show-when-auth-is]").each(function(t,o){var i=n(o),s=i.attr("data-hash"),a=i.attr("data-show-when-auth-is");!0===e.announcementsToShow[s]&&("auth"===a&&!0===e.userLoggedIn||"unauth"===a&&!1===e.userLoggedIn)&&(i.show(),e.isShowing=!0)}),this.isShowing){var t=n(".component_announcement");t.show(),n(window).width()>767?t.css({height:"5rem"}):this.equalHeightForMessages()}},e.prototype.listenOnGloEvent=function(){var e=this;n(window).on("glo_statusBroadcast",function(n,t){t&&t.authenticationResponse&&t.authenticationResponse.isAuthenticated&&!0==!!t.authenticationResponse.isAuthenticated?e.userLoggedIn=!0:e.userLoggedIn=!1,e.showAuthAnnouncementIfNeeded()})},e.prototype.getCookie=function(n){var e="; "+document.cookie,t=e.split("; "+n+"=");return 2===t.length?t.pop().split(";").shift():""},e}();e.default=o}).call(e,t(0))},23:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t(2);new o.default(".component_announcement")}},[23]);